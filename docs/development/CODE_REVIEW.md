## –û—Ç—á–µ—Ç –ø–æ –∫–æ–¥-—Ä–µ–≤—å—é

–Ø –ø—Ä–æ–≤–µ–ª –∫–æ–¥-—Ä–µ–≤—å—é –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É `LangGraph`.

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** **Approve** üëç

–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `LangGraph` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ. –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª–µ–µ –º–æ–¥—É–ª—å–Ω–∞—è, —á–∏—Ç–∞–µ–º–∞—è –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞ FSM. –ö–æ–¥ –≤ —Ü–µ–ª–æ–º –Ω–∞–ø–∏—Å–∞–Ω —á–∏—Å—Ç–æ –∏ —Å–ª–µ–¥—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º.

### –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –ø–æ —Ñ–∞–π–ª–∞–º

#### `main_langgraph.py` (–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
-   **–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ `aiogram` –∏ `LangGraph`. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `MemorySaver`.
-   **–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è**: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `langgraph_handler` –∏ `callback_query_handler` –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏. –í –±—É–¥—É—â–µ–º –∏—Ö –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

#### `langgraph_app.py` (–Ø–¥—Ä–æ –≥—Ä–∞—Ñ–∞)
-   **–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã**: –û—Ç–ª–∏—á–Ω–∞—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å. –ì—Ä–∞—Ñ —á–µ—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ —É–∑–ª—ã, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è, RAG, –¥–∏–∞–ª–æ–≥–∏). –≠—Ç–æ —Å–∏–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ –æ—Ç–ª–∞–¥–∫—É. –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö RAG-–∫–æ–º–∞–Ω–¥ –≤ –æ–¥–∏–Ω —É–∑–µ–ª (`rag_node`) ‚Äî –æ—Ç–ª–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
-   **–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è**: 
    -   **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –£–∑–µ–ª `route_command_node` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–Ω–æ–≥–æ `if`-`else` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. –ï–≥–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–æ–≤–∞—Ä—å –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–º–∞–Ω–¥ –Ω–∞ —É–∑–ª—ã –≥—Ä–∞—Ñ–∞.
    -   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –í —É–∑–ª–∞—Ö —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ RAG-–∑–∞–ø—Ä–æ—Å —É–ø–∞–ª). –°–µ–π—á–∞—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ —É–¥–∞–ª–æ—Å—å...".
    -   **–°–ª–æ–∂–Ω–æ—Å—Ç—å `response_node`**: –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ —Å–ø–æ—Å–æ–±–∞ –æ—Ç–≤–µ—Ç–∞ (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –Ω–æ–≤—ã–π) –Ω–µ–º–Ω–æ–≥–æ —É—Å–ª–æ–∂–Ω–µ–Ω–∞. –≠—Ç–æ –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å, –µ—Å–ª–∏ –∫–∞–∂–¥—ã–π —É–∑–µ–ª –±—É–¥–µ—Ç —Å–∞–º —Ä–µ—à–∞—Ç—å, –∫–∞–∫—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤–µ—Ä–Ω—É—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏.

#### `admin_service.py` –∏ `formatters.py`
-   **–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã**: –ö–æ–¥ –≤ —ç—Ç–∏—Ö —Ñ–∞–π–ª–∞—Ö ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä "—á–∏—Å—Ç—ã—Ö" –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –û–Ω–∏ —Ö–æ—Ä–æ—à–æ –Ω–∞–ø–∏—Å–∞–Ω—ã, –ª–µ–≥–∫–æ —á–∏—Ç–∞—é—Ç—Å—è –∏ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è.
-   **–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è**: 
    -   `ADMIN_ID` –≤ `admin_service.py` –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω. –õ—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
    -   –í `admin_service.py` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

### –ò—Ç–æ–≥

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–µ–±–æ–ª—å—à–∏–µ –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è, —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª—å—à–∏–º —à–∞–≥–æ–º –≤–ø–µ—Ä–µ–¥. –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é. –Ø –æ–¥–æ–±—Ä–∏–ª –±—ã —ç—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫, —Ç–∞–∫ –∫–∞–∫ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∫—Ä–∏—Ç–∏—á–Ω—ã–º–∏ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –∏—Ç–µ—Ä–∞—Ü–∏—è—Ö.

**–ó–∞–¥–∞—á–∞ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞.**
