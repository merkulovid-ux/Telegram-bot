# GEMINI_START.md

Этот файл подсказывает ИИ-агенту (Gemini/Codex), как работать в репозитории ProcessOff.

## 1. Перед началом любой задачи
1. Убедись, что находишься в корне репозитория (`telegram-ai-bot`).
2. Прочитай `README.md` и `Yandex_INFRA_SETUP.md`, чтобы помнить контекст Release 2 (Deployment Automation).
3. Посмотри `BACKLOG.md` и `ROADMAP.md`: Release 2 — в работе, Release 3 — планируется, ретро каждые 5 ответов, refinement каждые 3.
4. Сверь `.env` / `.env.prod` (без раскрытия секретов) и проверь, не требуется ли обновление Lockbox (`python export_lockbox_payload.py ...`).
5. Если задача про код — запуск `pytest tests/test_smoke.py` и/или `python predeploy_check.py --env .env --env .env.prod` обязателен перед деплоем.

## 2. Workflow
- **DevOps задачи (Release 2)**: действуй по `Yandex_INFRA_SETUP.md` и `scripts/generate_yc_bootstrap.py`. В локальной среде можно подготовить конфиги и скрипты, но реальные `yc`/`docker push` выполняет человек.
- **RAG/бот**: изменения в `handlers/llm_commands.py`, `assistant_client.py`, `responses_client.py` должны сопровождаться описанием, тестами (по возможности) и ссылкой на backlog.
- **Документация**: обновляй `README.md`, `monitoring_alerts.md`, `Yandex_*` файлы, когда появляются новые процедуры.

## 3. Что делать, если нужна информация из облака
- Сначала спроси пользователя (DevOps) о свежих ID: Lockbox `secret_id`, сервисные аккаунты, Registry, Container ID.
- Не генерируй вымышленных ID. Если значения неизвестны, явно попроси их.
- Большинство операций в Yandex Cloud выполняет человек по инструкциям; мы только подготавливаем команды и проверяем конфиги.

## 4. Качество и стиль
- Python: PEP8, type hints, docstrings (Google style), никакой чувствительной информации в коде.
- Коммиты/патчи должны быть само-документируемыми.
- В ответах фиксируй: что изменено, какие тесты/команды запускались, какие шаги остаются за пользователем.

## 5. Напоминания
- После каждого третьего ответа — высокоуровневый refinement (сверь backlog).
- После каждого пятого — ретроспектива (спроси, всё ли идёт по плану Release 2/3).
- Всегда уведомляй DevOps/QA/Scrum Master, если действия затрагивают их область ответственности.
